#!/bin/bash

## Location of JDK
JAVA_HOME=""

## Additionals args to include in startup
JBOSS_OPTS=""

## SCRIPT DIRECTORY FOLDER
DIRNAME=$(dirname "$0")

## PLATAFORM HOME
SINGULAR_PLATAFORM_HOME=$(cd "$DIRNAME/.."; pwd)

## LIB FOLDER
SINGULAR_LIB=$(cd "$SINGULAR_PLATAFORM_HOME/lib"; pwd)

## WILDFLY FOLDER
SINGULAR_WILDFLY=$(cd "$SINGULAR_PLATAFORM_HOME/wildfly"; pwd)

## ADITIONAL MODULES
JBOSS_MODULEPATH=$SINGULAR_LIB:$SINGULAR_WILDFLY/modules

## EXPORT JBOSS_OPTS IF CONFIGURED
if [ "x$JBOSS_OPTS" = "x" ]; then
	export JBOSS_OPTS
fi

## EXPORT JAVA_HOME  IF CONFIGURED
if [ "x$JAVA_HOME" = "x" ]; then
	export JAVA_HOME
fi

## EXPORT JBOSS_OPTS  IF CONFIGURED
if [ "x$JBOSS_OPTS" = "x" ]; then
	export JBOSS_OPTS
fi

sh $SINGULAR_WILDFLY/bin/standalone.sh